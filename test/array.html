<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
    <script>
        /* 自定义实现一些数组声明式方法 */

        /*map()*/
        Array.prototype.map = function(callback) {
            const arr = []
            for(let index=0; index < this.length; index++){
                arr.push(callback(this[index] , index))
            }
            return arr
        }


        
        const arr = [1, 3, 4, 5, 7, 8]
        var arr2 = arr.map((item, index) => {
            if(index % 2 ===0) {
               return item + 10
            } else {
               return  item + 20
            }
        })
        console.log(arr2)

        /*reduce()*/

        Array.prototype.reduce = function (callback, initValue) {
           let total = initValue
           for( let index =0; index <this.length; index++) {
              total = callback(total, this[index], index) 
           }
           return total 
        }

        var result = arr.reduce((pre, item, index) => {
            if(index%2===1 && item%2===1) {
                pre += item
            }
            return pre
        }, 0)

        console.log(result)

        /*filter()*/

        Array.prototype.filter = function(callback) {
            const arr =[]
            for (index=0; index< this.length; index++) {
               if(callback(this[index], index) ){
                   arr.push(this[index])
               }
            }
            return arr
        }
        
        
        arr3 = arr.filter((item, index) =>  index%2===1 && item%2===1)
        console.log(arr3)

        //find
        Array.prototype.find = function(callback) {
            let item
            for(let index =0; index < this.length; index++){
                if(callback(this[index], index)) {
                    item = this[index]
                    return item
                }
            }
           // return item 
        }
         result = arr.find((item, index) => index%2===1 && item%2===1)
         console.log (result)


         //every()
         Array.prototype.every = function(callback) {
             for(let index=0; index<this.length; index++){
                 if(!callback(this[index], index)){
                     return false
                 }
             }
             return true
         }
          result = arr.every((item, index) => item>3)
          console.log(result)

          //some()

          result = arr.some((item, index) => item >3)
          console.log(result)
        
    </script>
</body>
</html>